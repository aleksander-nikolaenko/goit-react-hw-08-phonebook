"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[141],{9376:function(t,e,n){n.d(e,{Q:function(){return c}});var a=n(6373),r="LoaderButton_wrapper__WcgzK",s=n(184),c=function(){return(0,s.jsx)("div",{className:r,children:(0,s.jsx)(a.iT,{ariaLabel:"loading-indicator",height:24,width:24,strokeWidth:8,color:"white",secondaryColor:"white"})})}},2050:function(t,e,n){n.r(e),n.d(e,{default:function(){return D}});var a=n(885),r=n(2791),s=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",n=crypto.getRandomValues(new Uint8Array(t));t--;){var a=63&n[t];e+=a<36?a.toString(36):a<62?(a-26).toString(36).toUpperCase():a<63?"_":"-"}return e},c=n(5206),o=n(2286),i=n(3032),u=n(9434),l=n(9376),d="ContactForm_form__dhl+T",m="ContactForm_label__-cVXI",h="ContactForm_text__kqq6l",_="ContactForm_input__Bl93P",p="ContactForm_button__eSwX9",f=n(184),x=o.Z.getContacts,b=o.Z.getContactsStatus,v=function(){var t=(0,u.I0)(),e=(0,u.v9)(x),n="creating"===(0,u.v9)(b),o=(0,r.useState)(""),v=(0,a.Z)(o,2),C=v[0],g=v[1],j=(0,r.useState)(""),N=(0,a.Z)(j,2),w=N[0],F=N[1],Z=s(),k=s(),y=function(t){var e=t.currentTarget,n=e.name,a=e.value;switch(n){case"name":g(a);break;case"number":F(a);break;default:return}};return(0,f.jsxs)("form",{onSubmit:function(n){n.preventDefault();var a=e.find((function(t){return t.name===C||t.number===w}));if(a)c.Am.warn("Name or Number is already in contacts.");else{var r={id:s(),name:C,number:w};t((0,i.uK)(r)).unwrap().then((function(t){c.Am.success("".concat(t.name," is add in contacts.")),g(""),F("")})).catch((function(){c.Am.error("".concat(C," isn't add in contacts."))}))}},className:d,children:[(0,f.jsxs)("label",{htmlFor:Z,className:m,children:[(0,f.jsx)("p",{className:h,children:"Name"}),(0,f.jsx)("input",{className:_,type:"text",name:"name",placeholder:"Petr Petrov",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:C,onChange:y,required:!0})]}),(0,f.jsxs)("label",{htmlFor:k,className:m,children:[(0,f.jsx)("p",{className:h,children:"Number"}),(0,f.jsx)("input",{className:_,type:"tel",name:"number",placeholder:"+38-033-333-33-33",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:w,onChange:y,required:!0})]}),(0,f.jsxs)("button",{type:"submit",className:p,children:[n&&(0,f.jsx)(l.Q,{}),"Add contact"]})]})},C=n(5861),g=n(7757),j=n.n(g),N="ContactsItem_item__teaw-",w="ContactsItem_text__llkOD",F="ContactsItem_number__CBgn+",Z="ContactsItem_button__S+pxM",k="ContactsItem_wrapper__6gZUn",y=o.Z.getContactsStatus,A=function(t){var e=t.id,n=t.name,s=t.number,o=(0,u.I0)(),d="deleting"===(0,u.v9)(y),m=(0,r.useState)(d),h=(0,a.Z)(m,2),_=h[0],p=h[1],x=function(){var t=(0,C.Z)(j().mark((function t(e){return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p(!0),o((0,i.GK)(e)).unwrap().then((function(t){c.Am.success('Contact "'.concat(t.name,'" is deleting'))})).catch((function(t){p(!1),console.log(t.message),c.Am.error('Contact "'.concat(n,'" is not deleting'))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,f.jsxs)("li",{className:N,children:[(0,f.jsx)("button",{className:Z,type:"Submit",onClick:function(){return x(e)},children:_?(0,f.jsx)(l.Q,{}):(0,f.jsx)("span",{children:"\ud83d\uddf7"})}),(0,f.jsxs)("div",{className:k,children:[(0,f.jsxs)("p",{className:w,children:["\ud83d\uddbf\xa0\xa0",n]}),(0,f.jsxs)("p",{className:F,children:["\u260e\xa0\xa0",s]})]})]})},S=n(3695),I="ContactsList_list__mmE3Y",q=o.Z.getContactsStatus,z=o.Z.getFilteredContacts,P=function(){var t=(0,u.I0)();(0,r.useEffect)((function(){t((0,i.yF)()).unwrap().then((function(){c.Am.success("Contacts updated")})).catch((function(){c.Am.error("Contacts didn't updated")}))}),[t]);var e=(0,u.v9)(z),n="loading"===(0,u.v9)(q);return(0,f.jsxs)(f.Fragment,{children:[n&&(0,f.jsx)(S.Z,{}),(0,f.jsx)("ul",{className:I,children:e.map((function(t){var e=t.id,n=t.name,a=t.number;return(0,f.jsx)(A,{name:n,number:a,id:e},e)}))})]})},V="Container_container__VVOCq",B=function(t){var e=t.children;return(0,f.jsx)("div",{className:V,children:e})},E="Filter_label__vEd1E",Q="Filter_input__N7T3z",T="Filter_text__uqQRu",K=n(7006),L=o.Z.getFilterValue,U=function(){var t=(0,u.I0)(),e=(0,u.v9)(L);return(0,f.jsxs)("label",{className:E,children:[(0,f.jsx)("p",{className:T,children:"Find contacts by name"}),(0,f.jsx)("input",{className:Q,type:"text",value:e,onChange:function(e){t((0,K.h)(e.target.value))}})]})},D=function(){return(0,f.jsxs)(B,{children:[(0,f.jsx)("h1",{children:"Phonebook"}),(0,f.jsx)(v,{}),(0,f.jsx)("h2",{children:"Contacts"}),(0,f.jsx)(U,{}),(0,f.jsx)(P,{})]})}}}]);
//# sourceMappingURL=contacts-page.22aa3158.chunk.js.map
(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[88],{9376:function(e,r,a){"use strict";a.d(r,{Q:function(){return o}});var t=a(6373),n="LoaderButton_wrapper__WcgzK",s=a(184),o=function(){return(0,s.jsx)("div",{className:n,children:(0,s.jsx)(t.iT,{ariaLabel:"loading-indicator",height:24,width:24,strokeWidth:8,color:"white",secondaryColor:"white"})})}},4489:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return T}});var t=a(5861),n=a(4942),s=a(1413),o=a(885),i=a(7757),c=a.n(i),l=a(2791),d=a(3044),m=a(6151),u=a(4708),p=a(4953),h=a(5523),g=a(9174),f=a(1889),Z=a(4554),x=a(403),v=a(890),w=a(1614),b=a(7107),j=a(7012),k=a(3504),S=a(9774),y=a(6871),_=a(9434),C=a(6258),P=a(2286),R=a(9376),U=a(184),I=a(9704),W=(0,b.Z)();function N(){var e=(0,y.s0)(),r=(0,_.I0)(),a=(0,_.v9)(P.Z.getIsLoading),i=l.useState({email:"",password:"",checkedRemember:!1}),b=(0,o.Z)(i,2),N=b[0],T=b[1],D=l.useState({email:"",password:""}),E=(0,o.Z)(D,2),J=E[0],O=E[1];l.useEffect((function(){if(localStorage.getItem("savedUser")){var e=localStorage.getItem("savedUser"),r=I.AES.decrypt(e,"savedUser"),a=JSON.parse(JSON.parse(r.toString(I.enc.Utf8))),t=a.email,n=a.password,o=a.checkedRemember;T((0,s.Z)((0,s.Z)({},N),{},{email:t,password:n,checkedRemember:o}))}}),[]);var q=function(e,r){return r?(O((0,s.Z)((0,s.Z)({},J),{},(0,n.Z)({},e,""))),!0):(O((0,s.Z)((0,s.Z)({},J),{},(0,n.Z)({},e,"".concat(e," is required")))),!1)},A=function(e){var r=e.target,a=r.name,t=r.value;T((0,s.Z)((0,s.Z)({},N),{},(0,n.Z)({},a,t)))},L=function(){var a=(0,t.Z)(c().mark((function a(t){var n,o,i,l;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),n=new FormData(t.currentTarget),o={email:n.get("email"),password:n.get("password")},i=JSON.stringify((0,s.Z)((0,s.Z)({},o),{},{checkedRemember:N.checkedRemember})),!q("email",o.email)||!q("password",o.password)){a.next=16;break}return l=I.AES.encrypt(JSON.stringify(i),"savedUser").toString(),N.checkedRemember?localStorage.setItem("savedUser",l):localStorage.removeItem("savedUser"),a.prev=7,a.next=10,r((0,C.pH)(o)).unwrap();case 10:e(S.P.contactsPage),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(7),console.warn(a.t0);case 16:case"end":return a.stop()}}),a,null,[[7,13]])})));return function(e){return a.apply(this,arguments)}}();return(0,U.jsx)(j.Z,{theme:W,children:(0,U.jsxs)(w.Z,{component:"main",maxWidth:"xs",children:[(0,U.jsx)(u.ZP,{}),(0,U.jsxs)(Z.Z,{sx:{marginTop:3,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,U.jsx)(d.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,U.jsx)(x.Z,{})}),(0,U.jsx)(v.Z,{component:"h1",variant:"h5",children:"Sign in"}),(0,U.jsxs)(Z.Z,{component:"form",onSubmit:L,noValidate:!0,sx:{my:3},children:[(0,U.jsx)(p.Z,{margin:"normal",error:!!J.email,helperText:J.email,required:!0,fullWidth:!0,id:"email",name:"email",value:N.email,label:"Email Address",autoComplete:"email",autoFocus:!0,onChange:A}),(0,U.jsx)(p.Z,{margin:"normal",error:!!J.password,helperText:J.password,required:!0,fullWidth:!0,id:"password",name:"password",value:N.password,type:"password",label:"Password",autoComplete:"current-password",onChange:A}),(0,U.jsx)(h.Z,{control:(0,U.jsx)(g.Z,{checked:N.checkedRemember,onChange:function(e){T((0,s.Z)((0,s.Z)({},N),{},{checkedRemember:e.target.checked}))},inputProps:{"aria-label":"controlled"},value:"remember",color:"primary"}),label:"Remember me"}),(0,U.jsx)(m.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:a?(0,U.jsx)(R.Q,{}):"Sign In"}),(0,U.jsx)(f.ZP,{container:!0,justifyContent:"center",children:(0,U.jsx)(f.ZP,{item:!0,children:(0,U.jsx)(k.rU,{to:S.P.registerPage,children:"Don't have an account? Sign Up"})})})]})]})]})})}var T=function(){return(0,U.jsx)(N,{})}},2480:function(){}}]);
//# sourceMappingURL=login-page.7a7cf733.chunk.js.map
"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[141],{9376:function(n,e,t){t.d(e,{Q:function(){return c}});var a=t(6373),r="LoaderButton_wrapper__WcgzK",s=t(184),c=function(){return(0,s.jsx)("div",{className:r,children:(0,s.jsx)(a.iT,{ariaLabel:"loading-indicator",height:24,width:24,strokeWidth:8,color:"white",secondaryColor:"white"})})}},6298:function(n,e,t){t.r(e),t.d(e,{default:function(){return U}});var a=t(4942),r=t(1413),s=t(885),c=t(2791),i=t(3044),o=t(757),u=t(1614),m=t(890),l=t(6151),d=t(4953),h=t(4554),x=t(2477),f=t(5206),p=t(2286),Z=t(3032),_=t(9434),b=t(9376),j=t(184),v=p.Z.getContacts,g=p.Z.getContactsStatus,C=/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,w=/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,N=function(){var n=(0,_.I0)(),e=(0,_.v9)(v),t="creating"===(0,_.v9)(g),p=(0,c.useState)({name:"",number:""}),N=(0,s.Z)(p,2),y=N[0],k=N[1],A=(0,c.useState)({name:"",number:""}),I=(0,s.Z)(A,2),S=I[0],F=I[1],z=function(n,e,t){return e.match(t)?(k((0,r.Z)((0,r.Z)({},y),{},(0,a.Z)({},n,e))),F((0,r.Z)((0,r.Z)({},S),{},(0,a.Z)({},n,""))),!0):e?(k((0,r.Z)((0,r.Z)({},y),{},(0,a.Z)({},n,e))),F((0,r.Z)((0,r.Z)({},S),{},(0,a.Z)({},n,"wrong ".concat(n)))),!1):(k((0,r.Z)((0,r.Z)({},y),{},(0,a.Z)({},n,e))),F((0,r.Z)((0,r.Z)({},S),{},(0,a.Z)({},n,"".concat(n," is required")))),!1)},T=function(n){var e=n.currentTarget,t=e.name,a=e.value;switch(t){case"name":z(t,a,C);break;case"number":z(t,a,w);break;default:return}};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(u.Z,{component:"main",maxWidth:"xs",children:(0,j.jsxs)(h.Z,{sx:{marginTop:3,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,j.jsx)(i.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,j.jsx)(o.Z,{})}),(0,j.jsx)(m.Z,{component:"h1",variant:"h5",children:"Contacts"}),(0,j.jsxs)(h.Z,{component:"form",onSubmit:function(t){t.preventDefault();var a=e.find((function(n){return n.name===y.name})),r=e.find((function(n){return n.number===y.number}));if(a)f.Am.warn("Name is already in contacts.");else if(r)f.Am.warn("Number is already in contacts.");else{var s={name:y.name,number:y.number};n((0,Z.uK)(s)).unwrap().then((function(n){f.Am.success("".concat(n.name," is add in contacts.")),k({name:"",number:""})})).catch((function(){f.Am.error("".concat(y.name," isn't add in contacts."))}))}},noValidate:!0,sx:{my:3},children:[(0,j.jsx)(x.Z,{title:"Name may contain only letters, apostrophe, dash and spaces",children:(0,j.jsx)(d.Z,{margin:"normal",error:!!S.name,helperText:S.name,required:!0,fullWidth:!0,id:"name",name:"name",value:y.name,label:"Name",autoComplete:"name",onChange:T})}),(0,j.jsx)(x.Z,{title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",children:(0,j.jsx)(d.Z,{margin:"normal",error:!!S.number,helperText:S.number,required:!0,fullWidth:!0,id:"number",name:"number",value:y.number,type:"tel",label:"Number",autoComplete:"current-password",onChange:T})}),(0,j.jsxs)(l.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:[t&&(0,j.jsx)(b.Q,{}),"Add Contact"]})]})]})})})},y=t(5861),k=t(7757),A=t.n(k),I="ContactsItem_item__teaw-",S="ContactsItem_text__llkOD",F="ContactsItem_number__CBgn+",z="ContactsItem_button__S+pxM",T="ContactsItem_wrapper__6gZUn",V=p.Z.getContactsStatus,W=function(n){var e=n.id,t=n.name,a=n.number,r=(0,_.I0)(),i="deleting"===(0,_.v9)(V),o=(0,c.useState)(i),u=(0,s.Z)(o,2),m=u[0],l=u[1],d=function(){var n=(0,y.Z)(A().mark((function n(e){return A().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l(!0),r((0,Z.GK)(e)).unwrap().then((function(n){f.Am.success('Contact "'.concat(n.name,'" is deleting'))})).catch((function(n){l(!1),console.log(n.message),f.Am.error('Contact "'.concat(t,'" is not deleting'))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,j.jsxs)("li",{className:I,children:[(0,j.jsx)("button",{className:z,type:"Submit",onClick:function(){return d(e)},children:m?(0,j.jsx)(b.Q,{}):(0,j.jsx)("span",{children:"\ud83d\uddf7"})}),(0,j.jsxs)("div",{className:T,children:[(0,j.jsxs)("p",{className:S,children:["\ud83d\uddbf\xa0\xa0",t]}),(0,j.jsxs)("p",{className:F,children:["\u260e\xa0\xa0",a]})]})]})},q=t(3695),E="ContactsList_list__mmE3Y",Q=p.Z.getContactsStatus,D=p.Z.getFilteredContacts,K=function(){var n=(0,_.I0)();(0,c.useEffect)((function(){n((0,Z.yF)()).unwrap().then((function(){f.Am.success("Contacts updated")})).catch((function(){f.Am.error("Contacts didn't updated")}))}),[n]);var e=(0,_.v9)(D),t="loading"===(0,_.v9)(Q);return(0,j.jsxs)(j.Fragment,{children:[t&&(0,j.jsx)(q.Z,{}),(0,j.jsx)("ul",{className:E,children:e.map((function(n){var e=n.id,t=n.name,a=n.number;return(0,j.jsx)(W,{name:t,number:a,id:e},e)}))})]})},L="Container_container__VVOCq",B=function(n){var e=n.children;return(0,j.jsx)("div",{className:L,children:e})},M="Filter_label__vEd1E",O="Filter_input__N7T3z",$="Filter_text__uqQRu",G=t(7006),P=p.Z.getFilterValue,R=function(){var n=(0,_.I0)(),e=(0,_.v9)(P);return(0,j.jsxs)("label",{className:M,children:[(0,j.jsx)("p",{className:$,children:"Find contacts by name"}),(0,j.jsx)("input",{className:O,type:"text",value:e,onChange:function(e){n((0,G.h)(e.target.value))}})]})},U=function(){return(0,j.jsx)("main",{children:(0,j.jsxs)(B,{children:[(0,j.jsx)(N,{}),(0,j.jsx)("h2",{children:"Contacts"}),(0,j.jsx)(R,{}),(0,j.jsx)(K,{})]})})}},757:function(n,e,t){var a=t(5318);e.Z=void 0;var r=a(t(5649)),s=t(184),c=(0,r.default)((0,s.jsx)("path",{d:"M17.5 4.5c-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .65.73.45.75.45C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.41.21.75-.19.75-.45V6c-1.49-1.12-3.63-1.5-5.5-1.5zm3.5 14c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"}),"ImportContacts");e.Z=c}}]);
//# sourceMappingURL=contacts-page.6cf8367c.chunk.js.map